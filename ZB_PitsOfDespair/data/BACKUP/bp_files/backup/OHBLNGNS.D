BEGIN ~OHBLNGNS~

IF ~  HasItemEquiped("ohbnoshu",LastTalkedToBy)
~ THEN BEGIN 0
  SAY #92770
  IF ~~ THEN REPLY #92042 GOTO 2
  IF ~~ THEN REPLY #92050 GOTO 3
  IF ~~ THEN REPLY #92051 GOTO 4
  IF ~~ THEN REPLY #92047 GOTO 5
  IF ~~ THEN REPLY #92048 GOTO 7
  IF ~~ THEN REPLY #92054 GOTO 9
  IF ~~ THEN REPLY #92043 GOTO 10
  IF ~~ THEN REPLY #100453 EXIT
END

IF ~~ THEN BEGIN 1
  SAY #92771
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92042 GOTO 2
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92050 GOTO 3
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92051 GOTO 4
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #92047 GOTO 5
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92048 GOTO 7
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92054 GOTO 9
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92043 GOTO 10
  IF ~~ THEN REPLY #92294 EXIT
END

IF ~~ THEN BEGIN 2
  SAY #92772
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100454 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 3
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100455 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 4
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #100456 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 5
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100457 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 7
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100458 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 9
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92043 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 10
  IF ~~ THEN REPLY #92060 DO ~SetGlobal("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ EXIT
END

IF ~~ THEN BEGIN 3
  SAY #92773
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100459 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 2
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100460 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 4
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #100461 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 5
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100462 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 7
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100463 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 9
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100464 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 10
  IF ~~ THEN REPLY #92060 DO ~SetGlobal("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ EXIT
END

IF ~~ THEN BEGIN 4
  SAY #92774
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100465 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 2
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100466 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 3
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #100467 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 5
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100468 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 7
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100469 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 9
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100470 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 10
  IF ~~ THEN REPLY #92060 DO ~SetGlobal("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ EXIT
END

IF ~~ THEN BEGIN 5
  SAY #92775
  IF ~~ THEN DO ~SetGlobal("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ GOTO 6
END

IF ~~ THEN BEGIN 6
  SAY #92776
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100471 GOTO 2
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100472 GOTO 3
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100473 GOTO 4
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100474 GOTO 7
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100475 GOTO 9
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100476 GOTO 10
  IF ~~ THEN REPLY #92060 EXIT
END

IF ~~ THEN BEGIN 7
  SAY #92777
  IF ~~ THEN DO ~SetGlobal("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 8
END

IF ~~ THEN BEGIN 8
  SAY #92778
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100477 GOTO 2
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100478 GOTO 3
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100479 GOTO 4
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #100480 GOTO 5
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100481 GOTO 9
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100482 GOTO 10
  IF ~~ THEN REPLY #92261 EXIT
END

IF ~~ THEN BEGIN 9
  SAY #92779
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100483 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 2
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100484 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 3
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100485 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 4
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #100486 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 5
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100487 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 7
  IF ~  !Global("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #100488 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 10
  IF ~~ THEN REPLY #92261 DO ~SetGlobal("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ EXIT
END

IF ~~ THEN BEGIN 10
  SAY #92780
  IF ~  !Global("OHB_BANNOR_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92042 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 2
  IF ~  !Global("OHB_POL_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92050 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 3
  IF ~  !Global("OHB_THASSK_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92051 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 4
  IF ~  !Global("OHB_DORMAMUS_PASSWORD","GLOBAL",1)
~ THEN REPLY #92047 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 5
  IF ~  !Global("OHB_JOKER_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92048 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 7
  IF ~  !Global("OHB_WINGED_ROOM_EXPLAINED","GLOBAL",1)
~ THEN REPLY #92054 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ GOTO 9
  IF ~~ THEN REPLY #92261 DO ~SetGlobal("OHB_DENNATON_ROOM_EXPLAINED","GLOBAL",1)
~ EXIT
END

IF ~  !HasItemEquiped("ohbnoshu",LastTalkedToBy)
~ THEN BEGIN 11
  SAY #92781
  IF ~~ THEN EXIT
END
