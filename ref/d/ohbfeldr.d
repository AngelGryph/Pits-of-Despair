BEGIN ~OHBFELDR~

IF WEIGHT #0 ~  OR(2)
Global("ohb_finale","global",2)
Global("ohb_finale","global",3)
RandomNum(2,1)
~ THEN BEGIN 0
  SAY #92948
  IF ~~ THEN EXIT
END

IF WEIGHT #1 ~  OR(2)
Global("ohb_finale","global",2)
Global("ohb_finale","global",3)
RandomNum(2,2)
~ THEN BEGIN 1
  SAY #92949
  IF ~~ THEN EXIT
END

IF WEIGHT #3 ~  OR(2)
Global("OHB_FOOD_FIGHT","MYAREA",0)
Global("ohb_insult_feldrak","locals",1)
~ THEN BEGIN 2
  SAY #92379
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 3
  SAY #90579
  IF ~~ THEN REPLY #90580 GOTO 4
  IF ~~ THEN REPLY #90581 EXTERN ~OHBGEZZT~ 3
  IF ~~ THEN REPLY #90582 EXTERN ~OHBGEZZT~ 2
END

IF ~~ THEN BEGIN 4
  SAY #90583
  IF ~~ THEN EXTERN ~OHBGEZZT~ 2
END

IF WEIGHT #4 ~  Global("OHB_TALKED_FELDR","LOCALS",0)
Global("ohb_finale","global",0)
~ THEN BEGIN 5
  SAY #92379
  IF ~~ THEN REPLY #92380 DO ~SetGlobal("OHB_TALKED_FELDR","LOCALS",1)
~ GOTO 8
  IF ~~ THEN REPLY #92381 DO ~SetGlobal("OHB_TALKED_FELDR","LOCALS",1)
~ GOTO 16
  IF ~~ THEN REPLY #92382 GOTO 6
  IF ~~ THEN REPLY #92383 DO ~SetGlobal("OHB_TALKED_FELDR","LOCALS",1)
~ GOTO 7
END

IF ~~ THEN BEGIN 6
  SAY #92384
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 7
  SAY #92385
  IF ~~ THEN DO ~SetGlobal("ohb_insult_feldrak","locals",1)
~ EXIT
END

IF ~~ THEN BEGIN 8
  SAY #92386
  IF ~~ THEN GOTO 9
END

IF ~~ THEN BEGIN 9
  SAY #92387
  IF ~~ THEN REPLY #92388 GOTO 10
  IF ~~ THEN REPLY #92389 GOTO 17
  IF ~~ THEN REPLY #92382 GOTO 6
  IF ~~ THEN REPLY #92390 GOTO 7
END

IF ~~ THEN BEGIN 10
  SAY #92391
  IF ~~ THEN GOTO 11
END

IF ~~ THEN BEGIN 11
  SAY #92392
  IF ~~ THEN REPLY #92393 GOTO 17
  IF ~~ THEN REPLY #92394 GOTO 12
  IF ~~ THEN REPLY #92063 GOTO 13
  IF ~~ THEN REPLY #92193 GOTO 6
  IF ~~ THEN REPLY #92395 GOTO 7
END

IF ~~ THEN BEGIN 12
  SAY #92396
  IF ~~ THEN REPLY #92397 GOTO 17
  IF ~~ THEN REPLY #92193 GOTO 6
  IF ~~ THEN REPLY #92398 GOTO 7
END

IF ~~ THEN BEGIN 13
  SAY #92399
  IF ~~ THEN REPLY #92400 GOTO 14
  IF ~~ THEN REPLY #92401 GOTO 15
  IF ~~ THEN REPLY #92402 GOTO 17
  IF ~~ THEN REPLY #92193 GOTO 6
  IF ~~ THEN REPLY #92403 GOTO 7
END

IF ~~ THEN BEGIN 14
  SAY #92404
  IF ~~ THEN REPLY #92300 GOTO 17
  IF ~~ THEN REPLY #92192 GOTO 6
  IF ~~ THEN REPLY #92405 GOTO 7
END

IF ~~ THEN BEGIN 15
  SAY #92406
  IF ~~ THEN REPLY #92407 GOTO 17
  IF ~~ THEN REPLY #94817 GOTO 6
  IF ~~ THEN REPLY #92408 GOTO 7
END

IF ~~ THEN BEGIN 16
  SAY #92409
  IF ~~ THEN REPLY #92410 GOTO 10
  IF ~~ THEN REPLY #94818 GOTO 13
  IF ~~ THEN REPLY #92192 GOTO 6
  IF ~~ THEN REPLY #92411 GOTO 7
END

IF WEIGHT #5 ~  Global("OHB_TALKED_FELDR","LOCALS",1)
Global("ohb_finale","global",0)
~ THEN BEGIN 17
  SAY #92412
  IF ~~ THEN REPLY #92413 GOTO 10
  IF ~~ THEN REPLY #92414 GOTO 18
  IF ~~ THEN REPLY #90886 GOTO 23
  IF ~  !Global("OHB_HIRE","GLOBAL",1)
~ THEN REPLY #92415 GOTO 26
  IF ~  Global("OHB_FELDR_POISON","GLOBAL",1)
PartyHasItem("OHBCOM09")
PartyHasItem("OHBPTN08")
~ THEN REPLY #92416 GOTO 31
  IF ~~ THEN REPLY #92417 GOTO 27
  IF ~~ THEN REPLY #92382 GOTO 6
END

IF ~~ THEN BEGIN 18
  SAY #92419
  IF ~~ THEN REPLY #92420 GOTO 19
  IF ~~ THEN REPLY #92382 GOTO 6
  IF ~~ THEN REPLY #92421 GOTO 7
END

IF ~~ THEN BEGIN 19
  SAY #92422
  IF ~~ THEN GOTO 20
END

IF ~~ THEN BEGIN 20
  SAY #92423
  IF ~~ THEN REPLY #94906 GOTO 13
  IF ~~ THEN REPLY #92424 GOTO 21
  IF ~~ THEN REPLY #92152 GOTO 6
  IF ~~ THEN REPLY #92425 GOTO 7
END

IF ~~ THEN BEGIN 21
  SAY #92426
  IF ~~ THEN REPLY #92063 GOTO 13
  IF ~~ THEN REPLY #92428 GOTO 22
  IF ~~ THEN REPLY #92152 GOTO 6
  IF ~~ THEN REPLY #92430 GOTO 7
END

IF ~~ THEN BEGIN 22
  SAY #92431
  IF ~~ THEN REPLY #94907 GOTO 17
  IF ~~ THEN REPLY #92152 GOTO 6
  IF ~~ THEN REPLY #92432 GOTO 7
END

IF ~~ THEN BEGIN 23
  SAY #92433
  IF ~~ THEN GOTO 24
END

IF ~~ THEN BEGIN 24
  SAY #92434
  IF ~~ THEN GOTO 25
END

IF ~~ THEN BEGIN 25
  SAY #92435
  IF ~~ THEN REPLY #92436 GOTO 17
  IF ~~ THEN REPLY #92063 GOTO 13
  IF ~~ THEN REPLY #92152 GOTO 6
  IF ~~ THEN REPLY #92437 GOTO 7
END

IF ~~ THEN BEGIN 26
  SAY #92438
  IF ~~ THEN DO ~SetGlobal("OHB_HIRE","GLOBAL",1)
SetGlobal("OHB_FELDRAK_HIRED","GLOBAL",1)
~ EXIT
END

IF ~~ THEN BEGIN 27
  SAY #92439
  IF ~  Global("OHB_FELDR_POISON","GLOBAL",0)
Global("OHB_POISON_JOKER","GLOBAL",2)
~ THEN REPLY #92440 DO ~AddJournalEntry(92450,QUEST)
~ GOTO 29
  IF ~~ THEN REPLY #92152 GOTO 6
  IF ~~ THEN REPLY #92441 GOTO 28
END

IF ~~ THEN BEGIN 28
  SAY #94908
  IF ~~ THEN REPLY #94909 GOTO 14
  IF ~~ THEN REPLY #94910 GOTO 14
END

IF ~~ THEN BEGIN 29
  SAY #92442
  IF ~  PartyGoldGT(1199)
~ THEN REPLY #92443 DO ~TakePartyGold(1200)
~ GOTO 30
  IF ~~ THEN REPLY #92444 GOTO 6
  IF ~~ THEN REPLY #94911 GOTO 6
END

IF ~~ THEN BEGIN 30
  SAY #92446
  IF ~~ THEN DO ~AddJournalEntry(92451,QUEST)
SetGlobal("OHB_FELDR_POISON","GLOBAL",1)
~ EXIT
END

IF ~~ THEN BEGIN 31
  SAY #92447
  IF ~~ THEN DO ~SetGlobal("OHB_FELDR_POISON","GLOBAL",2)
AddJournalEntry(92452,QUEST)
TakePartyItem("OHBCOM09")
DestroyItem("ohbcom09")
TakePartyItem("OHBPTN08")
DestroyItem("ohbptn08")
GiveItemCreate("OHBPTN06",LastTalkedToBy,1,0,0)
~ EXIT
END

IF ~~ THEN BEGIN 32
  SAY #92876
  IF ~~ THEN EXTERN ~OHBBRODL~ 58
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 57
  IF ~  InMyArea("ohbhort")
!Dead("ohbhort")
~ THEN EXTERN ~OHBHORT~ 38
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 54
  IF ~  InMyArea("ohbgezzt")
!Dead("ohbgezzt")
~ THEN EXTERN ~OHBGEZZT~ 37
END

IF ~~ THEN BEGIN 33
  SAY #92886
  IF ~~ THEN EXTERN ~OHBBRODL~ 59
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 58
END

IF ~~ THEN BEGIN 34
  SAY #92899
  IF ~~ THEN EXTERN ~OHBBRODL~ 63
END

IF ~~ THEN BEGIN 35
  SAY #92914
  IF ~~ THEN EXTERN ~OHBBRODL~ 69
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 60
END

IF ~~ THEN BEGIN 36
  SAY #92926
  IF ~~ THEN EXTERN ~OHBBRODL~ 74
END

IF WEIGHT #6 ~  Global("ohb_finale","global",1)
~ THEN BEGIN 37
  SAY #92926
  IF ~~ THEN EXIT
END

IF WEIGHT #7 ~  Global("ohb_finale","global",6)
~ THEN BEGIN 38
  SAY #92984
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 39
  SAY #100622
  IF ~~ THEN EXTERN ~OHBBRODL~ 89
  IF ~  InMyArea("ohblea")
!Dead("ohblea")
~ THEN EXTERN ~OHBLEA~ 17
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 66
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 61
  IF ~  InMyArea("ohbgerro")
!Dead("ohbgerro")
~ THEN EXTERN ~OHBGERRO~ 40
END

IF ~~ THEN BEGIN 40
  SAY #90496
  IF ~~ THEN EXTERN ~OHBMESSE~ 0
END

IF ~~ THEN BEGIN 41
  SAY #90574
  IF ~~ THEN EXTERN ~OHBVOGHI~ 68
END

IF ~~ THEN BEGIN 42
  SAY #90576
  IF ~~ THEN EXTERN ~OHBVOGHI~ 69
END

IF WEIGHT #2 ~  Global("ohb_finale","global",0)
!Global("OHB_brodle_uprising_ready","GLOBAL",0)
~ THEN BEGIN 43
  SAY #92876
  IF ~~ THEN EXIT
END
