BEGIN ~OHBHORT~

IF WEIGHT #0 ~  OR(2)
Global("ohb_finale","global",2)
Global("ohb_finale","global",3)
RandomNum(2,1)
~ THEN BEGIN 0
  SAY #92946
  IF ~~ THEN EXIT
END

IF WEIGHT #1 ~  OR(2)
Global("ohb_finale","global",2)
Global("ohb_finale","global",3)
RandomNum(2,2)
~ THEN BEGIN 1
  SAY #92947
  IF ~~ THEN EXIT
END

IF WEIGHT #3 ~  Global("OHB_FOOD_FIGHT","MYAREA",0)
Global("OHB_TALKED_HORT","LOCALS",0)
Global("ohb_finale","global",0)
~ THEN BEGIN 2
  SAY #92614
  IF ~~ THEN REPLY #90617 DO ~SetGlobal("OHB_TALKED_HORT","LOCALS",1)
~ EXIT
END

IF WEIGHT #4 ~  Global("OHB_FOOD_FIGHT","MYAREA",0)
Global("OHB_TALKED_HORT","LOCALS",1)
Global("ohb_finale","global",0)
~ THEN BEGIN 3
  SAY #92615
  IF ~~ THEN EXIT
END

IF WEIGHT #5 ~  Global("OHB_TALKED_HORT","LOCALS",0)
!GlobalGT("OHB_LAST_BATTLE","GLOBAL",104)
Global("ohb_finale","global",0)
~ THEN BEGIN 4
  SAY #92614
  IF ~  Global("OHB_HORT_INFO","LOCALS",0)
~ THEN REPLY #92616 DO ~SetGlobal("OHB_HORT_INFO","LOCALS",1)
SetGlobal("OHB_TALKED_HORT","LOCALS",1)
~ GOTO 7
  IF ~~ THEN REPLY #92265 DO ~SetGlobal("OHB_TALKED_HORT","LOCALS",1)
~ GOTO 14
  IF ~~ THEN REPLY #90617 DO ~SetGlobal("OHB_TALKED_HORT","LOCALS",1)
~ EXIT
END

IF WEIGHT #6 ~  Global("OHB_TALKED_HORT","LOCALS",1)
!GlobalGT("OHB_LAST_BATTLE","GLOBAL",104)
Global("ohb_finale","global",0)
~ THEN BEGIN 5
  SAY #92615
  IF ~  Global("OHB_HORT_INFO","LOCALS",0)
~ THEN REPLY #92616 DO ~SetGlobal("OHB_HORT_INFO","LOCALS",1)
~ GOTO 7
  IF ~~ THEN REPLY #92265 GOTO 14
  IF ~~ THEN REPLY #90617 EXIT
END

IF ~~ THEN BEGIN 6
  SAY #92617
  IF ~  Global("OHB_HORT_INFO","LOCALS",0)
~ THEN REPLY #92293 DO ~SetGlobal("OHB_HORT_INFO","LOCALS",1)
~ GOTO 7
  IF ~~ THEN REPLY #92265 GOTO 14
  IF ~~ THEN REPLY #92618 EXIT
END

IF ~~ THEN BEGIN 7
  SAY #92619
  IF ~  !Race(Player1,DWARF)
!Gender(Player1,FEMALE)
~ THEN GOTO 10
  IF ~  Race(Player1,DWARF)
~ THEN GOTO 9
  IF ~  Gender(Player1,FEMALE)
~ THEN GOTO 8
END

IF ~~ THEN BEGIN 8
  SAY #92620
  IF ~~ THEN GOTO 10
END

IF ~~ THEN BEGIN 9
  SAY #92621
  IF ~~ THEN GOTO 10
END

IF ~~ THEN BEGIN 10
  SAY #92623
  IF ~~ THEN GOTO 11
END

IF ~~ THEN BEGIN 11
  SAY #92624
  IF ~~ THEN REPLY #92625 GOTO 12
  IF ~~ THEN REPLY #92626 GOTO 12
  IF ~~ THEN REPLY #92627 GOTO 13
END

IF ~~ THEN BEGIN 12
  SAY #92628
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 13
  SAY #92629
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 14
  SAY #92630
  IF ~~ THEN EXIT
END

IF WEIGHT #7 ~  Global("OHB_HORT_HIRED","GLOBAL",1)
Global("ohb_finale","global",0)
~ THEN BEGIN 15
  SAY #92631
  IF ~~ THEN EXIT
END

IF WEIGHT #8 ~  GlobalLT("OHB_TALKED_HORT","LOCALS",2)
GlobalGT("OHB_LAST_BATTLE","GLOBAL",104)
Global("ohb_finale","global",0)
~ THEN BEGIN 16
  SAY #92632
  IF ~~ THEN DO ~SetGlobal("OHB_TALKED_HORT","LOCALS",2)
~ GOTO 17
END

IF WEIGHT #9 ~  Global("OHB_TALKED_HORT","LOCALS",2)
Global("ohb_finale","global",0)
~ THEN BEGIN 17
  SAY #92633
  IF ~~ THEN REPLY #92293 GOTO 18
  IF ~  !Global("OHB_HIRE","GLOBAL",1)
!Global("OHB_HORT_ARENA","LOCALS",1)
~ THEN REPLY #92265 GOTO 20
  IF ~  !Global("OHB_HIRE","GLOBAL",1)
Global("OHB_HORT_ARENA","LOCALS",1)
~ THEN REPLY #92265 GOTO 19
  IF ~~ THEN REPLY #92618 EXIT
END

IF ~~ THEN BEGIN 18
  SAY #92634
  IF ~  !Global("OHB_HORT_SAID_WHERE","LOCALS",1)
~ THEN REPLY #92217 GOTO 28
  IF ~  !Global("OHB_HORT_SAID_HOW","LOCALS",1)
~ THEN REPLY #90886 GOTO 29
  IF ~  !Global("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ THEN REPLY #92069 GOTO 35
  IF ~  !Global("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ THEN REPLY #91952 GOTO 36
  IF ~~ THEN REPLY #95983 EXIT
END

IF ~~ THEN BEGIN 19
  SAY #92635
  IF ~  PartyGoldGT(999)
~ THEN REPLY #92636 DO ~TakePartyGold(1000)
~ GOTO 25
  IF ~  CheckStatGT(Player1,15,CHR)
PartyGoldGT(499)
~ THEN REPLY #92093 DO ~TakePartyGold(500)
~ GOTO 25
  IF ~~ THEN REPLY #92144 GOTO 26
  IF ~~ THEN REPLY #92233 GOTO 27
END

IF ~~ THEN BEGIN 20
  SAY #92637
  IF ~~ THEN GOTO 21
END

IF ~~ THEN BEGIN 21
  SAY #92638
  IF ~~ THEN REPLY #92639 GOTO 22
  IF ~~ THEN REPLY #92640 GOTO 22
  IF ~~ THEN REPLY #92641 GOTO 23
  IF ~~ THEN REPLY #92642 GOTO 37
END

IF ~~ THEN BEGIN 22
  SAY #92643
  IF ~~ THEN GOTO 24
END

IF ~~ THEN BEGIN 23
  SAY #92644
  IF ~~ THEN GOTO 24
END

IF ~~ THEN BEGIN 24
  SAY #92645
  IF ~  PartyGoldGT(999)
~ THEN REPLY #92646 DO ~TakePartyGold(1000)
~ GOTO 25
  IF ~  CheckStatGT(Player1,15,CHR)
PartyGoldGT(499)
~ THEN REPLY #92093 DO ~TakePartyGold(500)
~ GOTO 25
  IF ~~ THEN REPLY #92144 GOTO 26
  IF ~~ THEN REPLY #92233 GOTO 27
END

IF ~~ THEN BEGIN 25
  SAY #92647
  IF ~~ THEN DO ~SetGlobal("OHB_HIRE","GLOBAL",1)
SetGlobal("OHB_HORT_HIRED","GLOBAL",1)
SetGlobal("OHB_HORT_ARENA","LOCALS",1)
~ EXIT
END

IF ~~ THEN BEGIN 26
  SAY #92648
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 27
  SAY #92649
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 28
  SAY #92650
  IF ~  !Global("OHB_HORT_SAID_HOW","LOCALS",1)
~ THEN REPLY #95984 DO ~SetGlobal("OHB_HORT_SAID_WHERE","LOCALS",1)
~ GOTO 29
  IF ~  !Global("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ THEN REPLY #92069 DO ~SetGlobal("OHB_HORT_SAID_WHERE","LOCALS",1)
~ GOTO 35
  IF ~  !Global("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ THEN REPLY #91952 DO ~SetGlobal("OHB_HORT_SAID_WHERE","LOCALS",1)
~ GOTO 36
  IF ~~ THEN REPLY #92651 DO ~SetGlobal("OHB_HORT_SAID_WHERE","LOCALS",1)
~ EXIT
END

IF ~~ THEN BEGIN 29
  SAY #92652
  IF ~~ THEN GOTO 30
END

IF ~~ THEN BEGIN 30
  SAY #92653
  IF ~~ THEN GOTO 31
END

IF ~~ THEN BEGIN 31
  SAY #92654
  IF ~~ THEN REPLY #92655 DO ~SetGlobal("OHB_HORT_SAID_HOW","LOCALS",1)
~ GOTO 32
  IF ~~ THEN REPLY #92656 DO ~SetGlobal("OHB_HORT_SAID_HOW","LOCALS",1)
~ GOTO 33
  IF ~~ THEN REPLY #92657 DO ~SetGlobal("OHB_HORT_SAID_HOW","LOCALS",1)
~ GOTO 34
END

IF ~~ THEN BEGIN 32
  SAY #92658
  IF ~  !Global("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ THEN REPLY #95985 GOTO 35
  IF ~  !Global("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ THEN REPLY #91952 GOTO 36
  IF ~~ THEN REPLY #95986 EXIT
END

IF ~~ THEN BEGIN 33
  SAY #92659
  IF ~  !Global("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ THEN REPLY #95987 GOTO 35
  IF ~  !Global("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ THEN REPLY #91952 GOTO 36
  IF ~~ THEN REPLY #95988 EXIT
END

IF ~~ THEN BEGIN 34
  SAY #92660
  IF ~  !Global("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ THEN REPLY #95987 GOTO 35
  IF ~  !Global("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ THEN REPLY #91952 GOTO 36
  IF ~~ THEN REPLY #95990 EXIT
END

IF ~~ THEN BEGIN 35
  SAY #92661
  IF ~  !Global("OHB_HORT_SAID_WHERE","LOCALS",1)
~ THEN REPLY #92217 DO ~SetGlobal("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ GOTO 28
  IF ~  !Global("OHB_HORT_SAID_HOW","LOCALS",1)
~ THEN REPLY #90886 DO ~SetGlobal("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ GOTO 29
  IF ~  !Global("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ THEN REPLY #91952 DO ~SetGlobal("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ GOTO 36
  IF ~~ THEN REPLY #95991 DO ~SetGlobal("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ EXIT
END

IF ~~ THEN BEGIN 36
  SAY #92662
  IF ~  !Global("OHB_HORT_SAID_WHERE","LOCALS",1)
~ THEN REPLY #92217 DO ~SetGlobal("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ GOTO 28
  IF ~  !Global("OHB_HORT_SAID_HOW","LOCALS",1)
~ THEN REPLY #90886 DO ~SetGlobal("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ GOTO 29
  IF ~  !Global("OHB_HORT_SAID_THOUGHTS_ON_PLACE","LOCALS",1)
~ THEN REPLY #92069 DO ~SetGlobal("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ GOTO 35
  IF ~~ THEN REPLY #95992 DO ~SetGlobal("OHB_HORT_EXPLAINED_SCARS","LOCALS",1)
~ EXIT
END

IF ~~ THEN BEGIN 37
  SAY #92663
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 38
  SAY #92879
  IF ~~ THEN EXTERN ~OHBBRODL~ 58
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 57
END

IF ~~ THEN BEGIN 39
  SAY #92882
  IF ~~ THEN EXTERN ~OHBBRODL~ 59
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 58
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 33
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 36
  IF ~  InMyArea("ohbgezzt")
!Dead("ohbgezzt")
~ THEN EXTERN ~OHBGEZZT~ 38
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 55
END

IF ~~ THEN BEGIN 40
  SAY #92896
  IF ~~ THEN EXTERN ~OHBBRODL~ 63
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 34
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 37
  IF ~  InMyArea("ohbgezzt")
!Dead("ohbgezzt")
~ THEN EXTERN ~OHBGEZZT~ 39
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 56
END

IF ~~ THEN BEGIN 41
  SAY #92913
  IF ~~ THEN EXTERN ~OHBBRODL~ 69
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 60
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 35
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 38
END

IF ~~ THEN BEGIN 42
  SAY #92922
  IF ~~ THEN EXTERN ~OHBBRODL~ 74
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 36
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 58
  IF ~  InMyArea("ohbgezzt")
!Dead("ohbgezzt")
~ THEN EXTERN ~OHBGEZZT~ 41
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 61
END

IF WEIGHT #10 ~  Global("ohb_finale","global",1)
~ THEN BEGIN 43
  SAY #92922
  IF ~~ THEN EXIT
END

IF WEIGHT #11 ~  Global("ohb_finale","global",6)
~ THEN BEGIN 44
  SAY #92983
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 45
  SAY #100620
  IF ~~ THEN EXTERN ~OHBBRODL~ 89
  IF ~  InMyArea("ohblea")
!Dead("ohblea")
~ THEN EXTERN ~OHBLEA~ 17
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 66
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 61
  IF ~  InMyArea("ohbgerro")
!Dead("ohbgerro")
~ THEN EXTERN ~OHBGERRO~ 40
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 39
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 42
END

IF ~~ THEN BEGIN 46
  SAY #90495
  IF ~~ THEN EXTERN ~OHBFELDR~ 40
END

IF ~~ THEN BEGIN 47
  SAY #90503
  IF ~~ THEN EXTERN ~OHBGEZZT~ 61
END

IF ~~ THEN BEGIN 48
  SAY #90505
  IF ~~ THEN EXTERN ~OHBGEZZT~ 62
END

IF ~~ THEN BEGIN 49
  SAY #90578
  IF ~~ THEN EXTERN ~OHBFELDR~ 3
END

IF ~~ THEN BEGIN 50
  SAY #90588
  IF ~~ THEN DO ~SetGlobal("OHB_FOOD_FIGHT","MYAREA",4)
StartCutSceneMode()
StartCutScene("ohbcut07")
~ EXIT
END

IF WEIGHT #2 ~  Global("ohb_finale","global",0)
!Global("OHB_brodle_uprising_ready","GLOBAL",0)
~ THEN BEGIN 51
  SAY #92879
  IF ~~ THEN EXIT
END
